packages:
  yum:
    python3-devel: []
    python3: []
    python3-pip: []
    docker: []
files:
  "/etc/requirements.txt" :
    mode: "000755"
    owner: root
    group: root
    source: https://raw.githubusercontent.com/pasiasty/cocoder/master/requirements.txt
commands:
  01_install_python_dependencies:
    command: pip3 install -r /etc/requirements.txt
  02_configure_sudo:
    command: echo "webapp    ALL=(ALL:ALL) ALL" >> /etc/sudoers
  03_start_docker_service:
    command: systemctl start docker
  04_pull_python_image:
    command: docker pull python:latest
container_commands:
  01_allow_running_docker_without_sudo:
    command: usermod -a -G docker webapp